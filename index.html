<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OneTakeStudio â€” MSA Architecture</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â–¶</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body,#root{width:100%;min-height:100vh;background:#080810;color:#e2e8f0;
    font-family:'Noto Sans KR','SF Pro Display',-apple-system,sans-serif}
  @keyframes flowPulse{0%,100%{opacity:.3;transform:scale(.8)}50%{opacity:1;transform:scale(1.3)}}
  @keyframes stepFadeIn{from{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}
  ::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:#ffffff15;border-radius:3px}

  .cbox{border-radius:14px;position:relative;padding:10px;padding-top:28px;margin-top:14px}
  .cbox-label{position:absolute;top:-12px;left:16px;padding:2px 10px;font-size:11px;font-weight:700;
    letter-spacing:1px;background:#080810;border-radius:4px;z-index:2;white-space:nowrap}
  .cbox-icon{display:inline-flex;align-items:center;justify-content:center;border-radius:10px;
    width:32px;height:32px;font-size:16px;margin-right:6px;vertical-align:middle}

  .sc{border-radius:12px;padding:12px 14px;transition:all .35s ease;position:relative;overflow:hidden}
  .sc .tl{font-size:14px;font-weight:700;display:flex;justify-content:space-between;align-items:center}
  .sc .sb{font-size:11px;margin-top:3px}
  .sc .pt{font-size:10px;font-family:'JetBrains Mono',monospace;color:rgba(255,255,255,.22)}
  .sc.act{box-shadow:0 0 24px var(--shadow)}
  .sc.act::after{content:'';position:absolute;inset:0;border-radius:12px;
    background:radial-gradient(ellipse at center,var(--glow) 0%,transparent 70%);pointer-events:none}

  .dc{display:inline-block;padding:4px 10px;border-radius:7px;font-size:11px;font-weight:600;
    background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);margin:2px}

  .ad{display:flex;flex-direction:column;align-items:center;gap:0;padding:3px 0}
  .ad .ln{width:2px;height:14px;border-radius:1px}
  .ad .hd{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent}
  .ad .lb{font-size:9px;letter-spacing:.5px;margin-bottom:1px}

  .fb{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;
    cursor:pointer;font-family:inherit;text-align:left;transition:all .25s ease;font-size:13px;width:100%}
  .fb .dot{margin-left:auto;width:8px;height:8px;border-radius:50%;animation:flowPulse 1.5s ease-in-out infinite}

  .cb{padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,.07);
    background:#0d0d16;color:#94a3b8;cursor:pointer;font-size:13px;font-family:inherit;font-weight:500}

  .sd{border-radius:50%;transition:all .3s ease;flex-shrink:0}
  .sr{width:2px;flex:1;min-height:12px;transition:all .3s ease;border-radius:1px}
  .bg{display:inline-block;padding:2px 8px;border-radius:5px;font-size:10px;font-weight:600;margin-bottom:3px}

  .ci-n{display:flex;flex-direction:column;align-items:center;gap:4px;min-width:72px}
  .ci-i{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;
    font-size:22px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03)}
  .ci-l{font-size:10px;font-weight:600;color:#e2e8f0}
  .ci-s{font-size:9px;color:#475569}
  .ci-a{color:#8B5CF6;font-size:16px;opacity:.5;align-self:center}

  .lr{display:flex;align-items:center;gap:10px;padding:3px 0}
  .ll{width:24px;height:3px;border-radius:2px;flex-shrink:0}
  .lb2{width:20px;height:12px;border-radius:3px;flex-shrink:0;border-width:2px;border-style:solid}
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const {useState,useEffect}=React;

const FLOWS=[
  {id:"live-stream",label:"ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¬ë°",color:"#EC4899",icon:"ğŸ“º",steps:[
    {node:"user",text:"ìŠ¤íŠ¸ë¦¬ë¨¸ ë°©ì†¡ ì‹œì‘"},{node:"client",text:"WebRTC ë¯¸ë””ì–´ ìº¡ì²˜"},
    {node:"traefik",text:"Traefik Ingress ë¼ìš°íŒ…"},{node:"media",text:"Media Service: WebRTC/RTMP ì²˜ë¦¬"},
    {node:"redis",text:"Redis Streams: ë°©ì†¡ ì‹œì‘ ì´ë²¤íŠ¸"},{node:"core",text:"Core Service: ìŠ¤íŠœë””ì˜¤ ìƒíƒœ ì—…ë°ì´íŠ¸"},
    {node:"platform",text:"YouTube RTMP ë¼ì´ë¸Œ ì†¡ì¶œ"},
  ]},
  {id:"ai-shorts",label:"AI ì‡¼ì¸  ìƒì„±",color:"#F97316",icon:"âœ‚ï¸",steps:[
    {node:"media",text:"Media Service: ë…¹í™” ì™„ë£Œ ì´ë²¤íŠ¸"},{node:"redis",text:"Redis Streams: Coreì— ë…¹í™” ì™„ë£Œ ì „ë‹¬"},
    {node:"core",text:"Core Service: AI ë¶„ì„ ìš”ì²­"},{node:"ai",text:"AI Service: í•˜ì´ë¼ì´íŠ¸ êµ¬ê°„ ì¶”ì¶œ"},
    {node:"ai",text:"AI Service: STT + ìë§‰ ìƒì„±"},{node:"core",text:"Core â†’ Media: ì‡¼ì¸  ì €ì¥ ìš”ì²­"},
    {node:"media",text:"Media: EC2 ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥"},{node:"client",text:"í´ë¼ì´ì–¸íŠ¸: ì‡¼ì¸  ì¹´ë“œ í‘œì‹œ"},
  ]},
  {id:"realtime-chat",label:"ì‹¤ì‹œê°„ ì±„íŒ…",color:"#0EA5E9",icon:"ğŸ’¬",steps:[
    {node:"user",text:"ì‹œì²­ì ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡"},{node:"client",text:"Socket.io ì›¹ì†Œì¼“ ì—°ê²°"},
    {node:"traefik",text:"Traefik â†’ Media ë¼ìš°íŒ…"},{node:"media",text:"Chat Domain: ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸"},
    {node:"media-db",text:"MySQL: ì±„íŒ… ë¡œê·¸ ì €ì¥"},{node:"redis",text:"Redis Streams: ì±„íŒ… ë¹ˆë„ ì´ë²¤íŠ¸"},
    {node:"core",text:"Core â†’ AI: ë°˜ì‘ ë¶„ì„ ìš”ì²­"},{node:"ai",text:"AI: í•˜ì´ë¼ì´íŠ¸ ë§ˆì»¤ ìƒì„±"},
    {node:"client",text:"ì‹¤ì‹œê°„ ì±„íŒ… UI ì—…ë°ì´íŠ¸"},
  ]},
  {id:"auth-flow",label:"íšŒì›ê°€ì… / ë¡œê·¸ì¸",color:"#10B981",icon:"ğŸ”",steps:[
    {node:"user",text:"ì•„ì´ë”” / ë¹„ë°€ë²ˆí˜¸ / ë‹‰ë„¤ì„ ì…ë ¥"},{node:"client",text:"POST /api/auth/register"},
    {node:"traefik",text:"Traefik IngressRoute â†’ Core"},{node:"core",text:"Core: ì¤‘ë³µ ì²´í¬ + bcrypt í•´ì‹±"},
    {node:"core-db",text:"MySQL: User ë ˆì½”ë“œ ì €ì¥"},{node:"client",text:"JWT í† í° ë°œê¸‰ â†’ ë¡œê·¸ì¸ ì™„ë£Œ"},
  ]},
  {id:"recording",label:"ë…¹í™” & ë§ˆì»¤",color:"#8B5CF6",icon:"âºï¸",steps:[
    {node:"client",text:"ë…¹í™” ì‹œì‘ / ë§ˆì»¤ ì„¤ì •"},{node:"traefik",text:"Traefik â†’ Media Service"},
    {node:"media",text:"Recording Domain: ë…¹í™” ì„¸ì…˜ ìƒì„±"},{node:"media-db",text:"MySQL: ë©”íƒ€ë°ì´í„° ì €ì¥"},
    {node:"media",text:"EC2 ë¡œì»¬: ì˜ìƒ ì €ì¥"},{node:"redis",text:"Redis Streams: ë…¹í™” ì™„ë£Œ â†’ Core"},
    {node:"core",text:"Core â†’ AI: ì‡¼ì¸  ìƒì„± íŠ¸ë¦¬ê±°"},{node:"client",text:"Libraryì—ì„œ ë…¹í™”ë³¸ ì¡°íšŒ"},
  ]},
];

const NM={
  user:{c:"#94a3b8",l:"ğŸ‘¤ User"},client:{c:"#0EA5E9",l:"âš›ï¸ Client"},
  traefik:{c:"#2196F3",l:"ğŸ”€ Traefik"},core:{c:"#10B981",l:"ğŸŸ¢ Core"},
  "core-db":{c:"#10B981",l:"ğŸ¬ MySQL"},media:{c:"#EC4899",l:"ğŸ©· Media"},
  "media-db":{c:"#EC4899",l:"ğŸ¬ MySQL"},ai:{c:"#F97316",l:"ğŸ§  AI"},
  redis:{c:"#DC382D",l:"ğŸ”´ Redis"},platform:{c:"#6366f1",l:"â–¶ YouTube"},
};

function hx(h){const v=parseInt(h.slice(1),16);return`${(v>>16)&255},${(v>>8)&255},${v&255}`}

function SC({id,icon,title,sub,port,domains,activeId,flowNodes,children}){
  const m=NM[id]||NM.user;const rgb=hx(m.c);
  const act=activeId===id;const inf=flowNodes.has(id);
  const bg=act?.18:inf?.10:.04;const br=act?.55:inf?.28:.10;
  return(
    <div className={"sc"+(act?" act":"")} style={{
      background:`rgba(${rgb},${bg})`,border:`1.5px solid rgba(${rgb},${br})`,
      "--shadow":`rgba(${rgb},.2)`,"--glow":`rgba(${rgb},.06)`,
    }}>
      <div className="tl">
        <span style={{color:act?m.c:inf?"#e2e8f0":"#94a3b8"}}>{icon} {title}</span>
        {port&&<span className="pt">:{port}</span>}
      </div>
      {sub&&<div className="sb" style={{color:inf?"#94a3b8":"#475569"}}>{sub}</div>}
      {domains&&<div style={{marginTop:5,display:"flex",flexWrap:"wrap",gap:0}}>
        {domains.map(d=><span key={d} className="dc">{d}</span>)}
      </div>}
      {children}
    </div>
  );
}

function AD({color,label}){
  return(
    <div className="ad">
      {label&&<span className="lb" style={{color:color+"70"}}>{label}</span>}
      <div className="ln" style={{background:color+"50"}}/>
      <div className="hd" style={{borderTopColor:color+"80",borderTopWidth:5,borderTopStyle:"solid"}}/>
    </div>
  );
}

function App(){
  const[af,setAf]=useState("live-stream");
  const[as2,setAs]=useState(0);
  const[pl,setPl]=useState(true);
  const cf=FLOWS.find(f=>f.id===af);
  const an=cf.steps[as2]?.node;
  const fn=new Set(cf.steps.map(s=>s.node));

  useEffect(()=>{
    if(!pl)return;
    const t=setInterval(()=>setAs(p=>(p+1)%cf.steps.length),1800);
    return()=>clearInterval(t);
  },[pl,af,cf.steps.length]);

  useEffect(()=>setAs(0),[af]);

  const cp={activeId:an,flowNodes:fn};

  return(
    <div style={{minHeight:"100vh",width:"100%",background:"#080810",padding:"20px 20px"}}>

      {/* Header */}
      <div style={{display:"flex",alignItems:"center",gap:14,marginBottom:14}}>
        <img src="data:image/png;base64,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" alt="logo"
          style={{width:48,height:48,borderRadius:14,objectFit:"cover"}}/>
        <div>
          <h1 style={{fontSize:28,fontWeight:900,letterSpacing:-1,
            color:"#ffffff"}}>OneTakeStudio</h1>
          <p style={{fontSize:11,color:"#475569",letterSpacing:3,fontWeight:300}}>MSA SYSTEM ARCHITECTURE</p>
        </div>
        <div style={{marginLeft:"auto",display:"flex",flexWrap:"wrap",gap:4}}>
          {[
            {l:"Spring Boot 3.5.9",c:"#10B981"},{l:"Java 21",c:"#F59E0B"},{l:"React/Next.js",c:"#0EA5E9"},
            {l:"FastAPI",c:"#F97316"},{l:"k3s+Traefik",c:"#326CE5"},{l:"Redis Streams",c:"#DC382D"},{l:"6ì¸ íŒ€",c:"#8B5CF6"},
          ].map(t=>(
            <span key={t.l} style={{padding:"3px 8px",borderRadius:5,fontSize:10,fontWeight:600,
              background:t.c+"10",color:t.c,border:`1px solid ${t.c}20`}}>{t.l}</span>
          ))}
        </div>
      </div>

      <div style={{display:"flex",gap:14}}>

        {/* â•â•â•â•â•â• LEFT â•â•â•â•â•â• */}
        <div style={{flex:"1 1 64%",minWidth:0,display:"flex",flexDirection:"column",gap:8}}>

          {/* VPC */}
          <div className="cbox" style={{border:"1.5px dashed rgba(139,92,246,.15)"}}>
            <div className="cbox-label" style={{color:"rgba(139,92,246,.4)"}}>VPC 10.0.0.0/16</div>

            {/* Public Subnet */}
            <div className="cbox" style={{border:"1px dashed rgba(14,165,233,.12)",marginBottom:6}}>
              <div className="cbox-label" style={{color:"rgba(14,165,233,.3)",fontSize:10}}>PUBLIC SUBNET</div>
              <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8}}>
                <SC id="user" icon="ğŸ‘¤" title="Users" sub="ë¸Œë¼ìš°ì € Â· ëª¨ë°”ì¼" {...cp}/>
                <SC id="client" icon="âš›ï¸" title="Next.js Client" sub="WebRTC Â· Socket.io Â· Zustand" {...cp}/>
                <SC id="platform" icon="â–¶" title="YouTube" sub="RTMP ë¼ì´ë¸Œ ì†¡ì¶œ" {...cp}/>
              </div>
            </div>

            <div style={{display:"flex",justifyContent:"center",padding:"1px 0"}}>
              <AD color="#0EA5E9" label="HTTPS / WSS â†’ Traefik Ingress"/>
            </div>

            {/* Private Subnet */}
            <div className="cbox" style={{border:"1px dashed rgba(16,185,129,.08)"}}>
              <div className="cbox-label" style={{color:"rgba(16,185,129,.25)",fontSize:10}}>PRIVATE SUBNET</div>

              {/* EC2 */}
              <div className="cbox" style={{border:"2px dashed rgba(255,153,0,.3)",marginBottom:6,paddingTop:32}}>
                <div className="cbox-label" style={{color:"#FF9900",fontSize:11}}>
                  <span className="cbox-icon" style={{background:"rgba(255,153,0,.12)",border:"1px solid rgba(255,153,0,.25)"}}>ğŸ–¥ï¸</span>
                  EC2 Instance <span style={{fontWeight:400,color:"rgba(255,153,0,.5)",fontSize:10}}>t3.xlarge</span>
                </div>

                {/* k3s */}
                <div className="cbox" style={{border:"2px solid rgba(50,108,229,.25)",paddingTop:32}}>
                  <div className="cbox-label" style={{color:"#326CE5",fontSize:11}}>
                    <span className="cbox-icon" style={{background:"rgba(50,108,229,.12)",border:"1px solid rgba(50,108,229,.25)"}}>â˜¸ï¸</span>
                    k3s Cluster
                  </div>

                  <SC id="traefik" icon="ğŸ”€" title="Traefik Ingress Controller"
                    sub="k3s ë‚´ì¥ Â· SSL/TLS ì¢…ë‹¨ Â· IngressRoute ì„œë¹„ìŠ¤ ë¼ìš°íŒ…" {...cp}/>

                  <div style={{display:"flex",justifyContent:"space-around",padding:"1px 0"}}>
                    <AD color="#10B981" label="/api/core â†’"/>
                    <AD color="#EC4899" label="/api/media â†’"/>
                  </div>

                  <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:6}}>
                    <SC id="core" icon="ğŸŸ¢" title="Core Service" port="8080"
                      sub="Spring Boot 3.5.9 Â· Java 21"
                      domains={["ğŸ” Auth","ğŸ‘¤ User","ğŸ¬ Studio","ğŸ“Š Workspace","ğŸ“ Storage"]} {...cp}>
                      <div style={{marginTop:5,display:"flex",gap:4,flexWrap:"wrap"}}>
                        <span style={{padding:"3px 8px",borderRadius:6,fontSize:10,fontWeight:600,
                          background:"rgba(0,117,143,.1)",color:"#0097B2",border:"1px solid rgba(0,117,143,.2)"}}>ğŸ¬ MySQL (Core)</span>
                        <span style={{padding:"3px 8px",borderRadius:6,fontSize:10,fontWeight:600,
                          background:"rgba(255,153,0,.08)",color:"#FF9900",border:"1px solid rgba(255,153,0,.15)"}}>ğŸ’¾ EC2 Storage</span>
                      </div>
                    </SC>
                    <SC id="media" icon="ğŸ©·" title="Media Service" port="8082"
                      sub="Spring Boot 3.5.9 Â· Java 21"
                      domains={["ğŸ“º Streaming","âºï¸ Recording","ğŸ’¬ Chat"]} {...cp}>
                      <div style={{marginTop:5,display:"flex",gap:4,flexWrap:"wrap"}}>
                        <span style={{padding:"3px 8px",borderRadius:6,fontSize:10,fontWeight:600,
                          background:"rgba(0,117,143,.1)",color:"#0097B2",border:"1px solid rgba(0,117,143,.2)"}}>ğŸ¬ MySQL (Media)</span>
                        <span style={{padding:"3px 8px",borderRadius:6,fontSize:10,fontWeight:600,
                          background:"rgba(255,153,0,.08)",color:"#FF9900",border:"1px solid rgba(255,153,0,.15)"}}>ğŸ’¾ ì˜ìƒÂ·ë…¹í™”Â·ì‡¼ì¸ </span>
                      </div>
                    </SC>
                  </div>

                  <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8}}>
                    <SC id="redis" icon="ğŸ”´" title="Redis Streams" sub="Core â†” Media ë¹„ë™ê¸° ì´ë²¤íŠ¸ Â· ë°©ì†¡/ë…¹í™” ì™„ë£Œ" {...cp}/>
                    <div className="sc" style={{background:"rgba(255,255,255,.02)",border:"1px solid rgba(255,255,255,.06)",padding:"8px 12px"}}>
                      <div style={{fontSize:10,color:"#475569",letterSpacing:1,fontWeight:600,marginBottom:4}}>MONITORING</div>
                      <div style={{display:"flex",gap:4,flexWrap:"wrap"}}>
                        <span className="dc" style={{background:"rgba(230,82,44,.08)",color:"#E6522C",borderColor:"rgba(230,82,44,.15)"}}>ğŸ“ˆ Prometheus</span>
                        <span className="dc" style={{background:"rgba(244,104,0,.08)",color:"#F46800",borderColor:"rgba(244,104,0,.15)"}}>ğŸ“‰ Grafana</span>
                        <span className="dc" style={{background:"rgba(36,150,237,.08)",color:"#2496ED",borderColor:"rgba(36,150,237,.15)"}}>ğŸ³ Docker</span>
                      </div>
                    </div>
                  </div>

                </div>{/* k3s */}
              </div>{/* EC2 */}

              <div style={{display:"flex",alignItems:"center",gap:6,padding:"3px 0"}}>
                <div style={{flex:1,height:1,background:"linear-gradient(90deg,transparent,#F97316 30%,#F97316 70%,transparent)",opacity:.3}}/>
                <span style={{fontSize:10,color:"#F97316",opacity:.6,letterSpacing:1,fontWeight:600}}>REST API â†’ AI ë¶„ì„ ìš”ì²­ (ì ì„  = ì™¸ë¶€ í†µì‹ )</span>
                <div style={{flex:1,height:1,background:"linear-gradient(90deg,transparent,#F97316 30%,#F97316 70%,transparent)",opacity:.3}}/>
              </div>

              <SC id="ai" icon="ğŸ§ " title="AI Service (ë³„ë„ GPU ì„œë²„)" port="8000"
                sub="FastAPI Â· Python Â· GPU Inference"
                domains={["âœ‚ï¸ Auto-Clip","ğŸ™ï¸ STT Whisper","ğŸŒ ë‹¤êµ­ì–´ ìë§‰","ğŸ§  ì˜ìƒ ë¶„ì„"]} {...cp}>
                <div className="sb" style={{marginTop:3,color:"#64748b"}}>í•˜ì´ë¼ì´íŠ¸ ì¶”ì¶œ â†’ ì‡¼ì¸  ìë™ ìƒì„± Â· ê°ì •/ë°˜ì‘ ë¶„ì„</div>
              </SC>
            </div>{/* Private */}
          </div>{/* VPC */}

          {/* CI/CD */}
          <div style={{background:"rgba(139,92,246,.02)",border:"1px solid rgba(139,92,246,.1)",
            borderRadius:14,padding:"12px 16px"}}>
            <div style={{fontSize:11,color:"rgba(139,92,246,.4)",letterSpacing:2,fontWeight:700,marginBottom:8,textAlign:"center"}}>
              CI / CD PIPELINE
            </div>
            <div style={{display:"flex",alignItems:"center",justifyContent:"center",gap:8}}>
              <div className="ci-n"><div className="ci-i">ğŸ™</div><span className="ci-l">GitHub</span><span className="ci-s">Source Code</span></div>
              <span className="ci-a">â†’</span>
              <div className="ci-n"><div className="ci-i" style={{borderColor:"rgba(32,136,255,.15)"}}>âš¡</div><span className="ci-l">Actions</span><span className="ci-s">Build Â· Test</span></div>
              <span className="ci-a">â†’</span>
              <div className="ci-n"><div className="ci-i" style={{borderColor:"rgba(36,150,237,.15)"}}>ğŸ³</div><span className="ci-l">Docker</span><span className="ci-s">Registry</span></div>
              <span className="ci-a">â†’</span>
              <div className="ci-n"><div className="ci-i" style={{borderColor:"rgba(50,108,229,.15)"}}>ğŸš€</div><span className="ci-l">k3s Deploy</span><span className="ci-s">Rolling Update</span></div>
            </div>
          </div>

        </div>

        {/* â•â•â•â•â•â• RIGHT â•â•â•â•â•â• */}
        <div style={{flex:"1 1 36%",minWidth:260,display:"flex",flexDirection:"column",gap:8}}>

          <div style={{display:"flex",flexDirection:"column",gap:5}}>
            {FLOWS.map(flow=>{
              const act=af===flow.id;
              return(
                <button key={flow.id} className="fb"
                  onClick={()=>{setAf(flow.id);setPl(true)}}
                  style={{
                    border:`1px solid ${act?flow.color+"50":"rgba(255,255,255,.04)"}`,
                    background:act?flow.color+"14":"#0d0d16",
                    color:act?flow.color:"#64748b",fontWeight:act?700:500,
                  }}>
                  <span style={{fontSize:17}}>{flow.icon}</span>
                  <span>{flow.label}</span>
                  {act&&<div className="dot" style={{background:flow.color,boxShadow:`0 0 8px ${flow.color}`}}/>}
                </button>
              );
            })}
          </div>

          <div style={{display:"flex",gap:6}}>
            <button className="cb" style={{flex:1}} onClick={()=>setPl(!pl)}>
              {pl?"â¸ ì¼ì‹œì •ì§€":"â–¶ ì¬ìƒ"}
            </button>
            <button className="cb" onClick={()=>setAs(p=>(p+1)%cf.steps.length)}>ë‹¤ìŒ â†’</button>
          </div>

          <div style={{background:"#0d0d16",borderRadius:14,border:"1px solid rgba(255,255,255,.04)",
            padding:"12px 12px",flex:1,overflowY:"auto",maxHeight:320}}>
            <div style={{fontSize:10,color:"#475569",marginBottom:8,letterSpacing:2,fontWeight:600}}>
              {cf.icon} {cf.label.toUpperCase()} FLOW
            </div>
            <div style={{display:"flex",flexDirection:"column"}}>
              {cf.steps.map((step,i)=>{
                const act=as2===i;const past=i<as2;
                const m=NM[step.node]||NM.user;
                return(
                  <div key={i} onClick={()=>setAs(i)} style={{display:"flex",gap:10,cursor:"pointer"}}>
                    <div style={{display:"flex",flexDirection:"column",alignItems:"center",width:18,flexShrink:0}}>
                      <div className="sd" style={{
                        width:act?12:8,height:act?12:8,
                        background:act?cf.color:past?cf.color+"60":"#1e293b",
                        border:`2px solid ${act?cf.color:past?cf.color+"40":"#334155"}`,
                        boxShadow:act?`0 0 10px ${cf.color}60`:"none",
                      }}/>
                      {i<cf.steps.length-1&&<div className="sr" style={{background:past?cf.color+"30":"#1e293b"}}/>}
                    </div>
                    <div style={{paddingBottom:10,animation:act?"stepFadeIn .3s ease":"none"}}>
                      <div className="bg" style={{background:m.c+"18",color:m.c}}>{m.l}</div>
                      <div style={{fontSize:12,color:act?"#f1f5f9":past?"#94a3b8":"#475569",
                        fontWeight:act?600:400,lineHeight:1.4}}>{step.text}</div>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Legend */}
          <div style={{background:"rgba(255,255,255,.015)",border:"1px solid rgba(255,255,255,.04)",
            borderRadius:14,padding:"12px 14px"}}>
            <div style={{fontSize:11,color:"#64748b",letterSpacing:2,fontWeight:700,marginBottom:8}}>ARCHITECTURE LEGEND</div>
            <div className="lr"><div className="lb2" style={{borderColor:"#FF9900",borderStyle:"dashed",background:"none"}}/><span style={{fontSize:11,color:"#94a3b8"}}>EC2 ì¸ìŠ¤í„´ìŠ¤ ê²½ê³„</span></div>
            <div className="lr"><div className="lb2" style={{borderColor:"#326CE5",borderStyle:"solid",background:"none"}}/><span style={{fontSize:11,color:"#94a3b8"}}>k3s í´ëŸ¬ìŠ¤í„° ê²½ê³„</span></div>
            <div className="lr"><div className="lb2" style={{borderColor:"rgba(139,92,246,.3)",borderStyle:"dashed",background:"none"}}/><span style={{fontSize:11,color:"#94a3b8"}}>VPC ë„¤íŠ¸ì›Œí¬ ê²½ê³„</span></div>
            <div style={{height:1,background:"rgba(255,255,255,.05)",margin:"6px 0"}}/>
            {[
              {c:"#10B981",l:"Core Service ë¼ìš°íŒ…"},{c:"#EC4899",l:"Media Service ë¼ìš°íŒ…"},
              {c:"#DC382D",l:"Redis Streams ì´ë²¤íŠ¸"},{c:"#F97316",l:"REST (Core â†’ AI)",d:true},
              {c:"#6366f1",l:"RTMP (â†’ YouTube)"},{c:"#8B5CF6",l:"CI/CD Pipeline"},
            ].map(it=>(
              <div key={it.l} className="lr">
                <div className="ll" style={it.d
                  ?{background:`repeating-linear-gradient(90deg,${it.c} 0 5px,transparent 5px 8px)`}
                  :{background:it.c}}/>
                <span style={{fontSize:11,color:"#94a3b8"}}>{it.l}</span>
              </div>
            ))}
            <div style={{height:1,background:"rgba(255,255,255,.05)",margin:"6px 0"}}/>
            <div style={{fontSize:10,color:"#475569",fontWeight:600,letterSpacing:1,marginBottom:3}}>DATA FLOW</div>
            {["â‘  User â†’ Next.js â†’ Traefik â†’ Service",
              "â‘¡ Core â†” Redis â†” Media (ë¹„ë™ê¸°)",
              "â‘¢ Core â†’ AI (REST ë¶„ì„ ìš”ì²­)",
              "â‘£ Media â†’ YouTube (RTMP ì†¡ì¶œ)",
            ].map(t=><div key={t} style={{fontSize:10,color:"#475569",lineHeight:1.5}}>{t}</div>)}
          </div>

        </div>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
